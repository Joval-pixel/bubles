<script>
  const canvas = document.getElementById("canvas");
  const ctx = canvas.getContext("2d");

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  const bubbles = [
    { x: 100, y: 100, radius: 50, color: "green", label: "VALE3 +3.63%" },
    { x: 300, y: 200, radius: 40, color: "red", label: "PETR4 -2.10%" },
  ];

  function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    bubbles.forEach(b => {
      ctx.beginPath();
      ctx.arc(b.x, b.y, b.radius, 0, 2 * Math.PI);
      ctx.fillStyle = b.color;
      ctx.fill();
      ctx.fillStyle = "white";
      ctx.font = "14px sans-serif";
      ctx.textAlign = "center";
      ctx.fillText(b.label, b.x, b.y + 4);
    });
    requestAnimationFrame(draw);
  }

  draw();

  // üîç Busca dados da Brapi com chave correta
  async function fetchStocks() {
    try {
      const response = await fetch("https://brapi.dev/api/quote/VALE3,PETR4?token=5bTDfSmR2ieax6y7JUqDAD");
      const data = await response.json();
      console.log("üìà Dados recebidos da API:", data);
    } catch (error) {
      console.error("‚ùå Erro ao buscar dados da API:", error);
    }
  }

  fetchStocks();
</script>